<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Events delegation</h1>
    <form action="/dogs" id="tweetForm">
        <input type="text" name="username" placeholder="username">
        <input type="password" name="tweet" placeholder="tweet">
        <button>post tweet</button>
    </form>
    <h2>Tweets</h2>
    <ul id="tweets">
        <li>i am link</li>
        <li>i am link</li>
        <p>thus is a para (shoould not get deleted)</p>
    </ul>
</body>
<script>
    const tweetForm = document.querySelector('#tweetForm')
    const tweetContainer = document.querySelector('#tweets')
    tweetForm.addEventListener('submit', function(e){
        e.preventDefault();
        
        const usernameInput = tweetForm.elements.username;
        const tweetInput = tweetForm.elements.tweet
        addTweets(usernameInput.value, tweetInput.value)
        usernameInput.value = " "
        tweetInput.value = " "
    })

    const addTweets = (username, tweet) => {
        const newTweet = document.createElement('li')
        const bTag = document.createElement('b')
        bTag.append(username)
        newTweet.append(bTag); //first append user name in bold letters
        newTweet.append(`- ${tweet}`) //then append tweet message to it. 
        // console.log(newTweet);
        tweetContainer.append(newTweet); //then append both to the ul which has id "#tweets"
        // console.log('submit')
    }



     // const lis = document.querySelectorAll('li')
    // for(let li of lis){
    //     li.addEventListener('click', (e) => {
    //         li.remove()
    //     })
    // } //this will work for all li which is defined within ul before, but not for the newly added li(which is done by using DOM).So we are going to apply event delegation in parent element. 


    tweetContainer.addEventListener('click', (e) => {
        // console.log('click on the ul');
        // console.log(e);      
        // e.target.remove(); //this will delete all the li, but it will also delete all the other elements like p and h1 etc... But we want only li to get deleted.
        e.target.nodeName === 'LI' && e.target.remove();  
    })

</script>
</html>